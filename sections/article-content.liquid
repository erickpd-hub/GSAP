{% comment %}
  ÉLÉGANCE - Article Content Section
  Sección para contenido de artículo individual
{% endcomment %}

<style>
  .article-content {
    padding: 6rem 2rem;
    max-width: 900px;
    margin: 0 auto;
  }

  .article-header {
    text-align: center;
    margin-bottom: 3rem;
    opacity: 0;
  }

  .article-title {
    font-size: 3.5rem;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
    line-height: 1.2;
  }

  .article-meta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    color: var(--color-text-secondary);
    flex-wrap: wrap;
  }

  .article-featured-image {
    width: 100%;
    max-height: 600px;
    object-fit: cover;
    border-radius: 1rem;
    margin-bottom: 3rem;
    opacity: 0;
  }

  .article-body {
    font-size: 1.125rem;
    line-height: 1.8;
    opacity: 0;
  }

  .article-body h2 {
    margin-top: 2.5rem;
    margin-bottom: 1rem;
  }

  .article-body h3 {
    margin-top: 2rem;
    margin-bottom: 0.75rem;
  }

  .article-body p {
    margin-bottom: 1.5rem;
  }

  .article-body img {
    width: 100%;
    border-radius: 0.75rem;
    margin: 2rem 0;
  }

  .article-tags {
    display: flex;
    gap: 0.75rem;
    margin: 3rem 0;
    flex-wrap: wrap;
    opacity: 0;
  }

  .article-tag {
    padding: 0.5rem 1rem;
    background: var(--color-surface);
    border-radius: 2rem;
    font-size: 0.875rem;
    text-decoration: none;
    color: var(--color-text);
    transition: all 0.3s ease;
  }

  .article-tag:hover {
    background: var(--color-accent);
    color: var(--color-background);
  }

  .article-share {
    display: flex;
    gap: 1rem;
    padding: 2rem 0;
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
    margin: 3rem 0;
    opacity: 0;
  }

  .share-label {
    font-weight: 500;
  }

  .share-buttons {
    display: flex;
    gap: 0.75rem;
  }

  .share-btn {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: var(--color-surface);
    color: var(--color-text);
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .share-btn:hover {
    background: var(--color-accent);
    color: var(--color-background);
    transform: translateY(-2px);
  }

  .article-comments {
    margin-top: 4rem;
    opacity: 0;
  }

  @media (max-width: 768px) {
    .article-content {
      padding: 4rem 1.5rem;
    }

    .article-title {
      font-size: 2rem;
    }

    .article-body {
      font-size: 1rem;
    }
  }
</style>

<article class="article-content" data-article-content>
  <header class="article-header" data-fade-in>
    <h1 class="article-title">{{ article.title }}</h1>
    
    <div class="article-meta">
      {% if section.settings.show_date %}
        <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">
          {{ article.published_at | date: '%d de %B, %Y' }}
        </time>
      {% endif %}

      {% if section.settings.show_author and article.author %}
        <span>Por {{ article.author }}</span>
      {% endif %}

      <span>{{ article.content | strip_html | split: ' ' | size }} min de lectura</span>
    </div>
  </header>

  {% if article.image %}
    <img 
      src="{{ article.image | img_url: '1200x' }}" 
      alt="{{ article.title }}"
      class="article-featured-image"
      data-fade-in
    >
  {% endif %}

  <div class="article-body" data-fade-in>
    {{ article.content }}
  </div>

  {% if article.tags.size > 0 %}
    <div class="article-tags" data-fade-in>
      {% for tag in article.tags %}
        <a href="{{ blog.url }}/tagged/{{ tag | handle }}" class="article-tag">
          {{ tag }}
        </a>
      {% endfor %}
    </div>
  {% endif %}

  {% if section.settings.show_share_buttons %}
    <div class="article-share" data-fade-in>
      <span class="share-label">Compartir:</span>
      <div class="share-buttons">
        <a 
          href="https://twitter.com/intent/tweet?text={{ article.title | url_encode }}&url={{ shop.url }}{{ article.url }}" 
          target="_blank"
          class="share-btn"
          aria-label="Compartir en Twitter"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
          </svg>
        </a>
        
        <a 
          href="https://www.facebook.com/sharer.php?u={{ shop.url }}{{ article.url }}" 
          target="_blank"
          class="share-btn"
          aria-label="Compartir en Facebook"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/>
          </svg>
        </a>
        
        <a 
          href="https://pinterest.com/pin/create/button/?url={{ shop.url }}{{ article.url }}&media={{ article.image | img_url: '1200x' }}&description={{ article.title | url_encode }}" 
          target="_blank"
          class="share-btn"
          aria-label="Compartir en Pinterest"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.477 2 2 6.477 2 12c0 4.237 2.636 7.855 6.356 9.312-.088-.791-.167-2.005.035-2.868.181-.78 1.172-4.97 1.172-4.97s-.299-.6-.299-1.486c0-1.39.806-2.428 1.81-2.428.852 0 1.264.64 1.264 1.408 0 .858-.545 2.14-.828 3.33-.236.995.5 1.807 1.48 1.807 1.778 0 3.144-1.874 3.144-4.58 0-2.393-1.72-4.068-4.176-4.068-2.845 0-4.515 2.135-4.515 4.34 0 .859.331 1.781.745 2.281a.3.3 0 01.069.288l-.278 1.133c-.044.183-.145.223-.335.134-1.249-.581-2.03-2.407-2.03-3.874 0-3.154 2.292-6.052 6.608-6.052 3.469 0 6.165 2.473 6.165 5.776 0 3.447-2.173 6.22-5.19 6.22-1.013 0-1.965-.525-2.291-1.148l-.623 2.378c-.226.869-.835 1.958-1.244 2.621.937.29 1.931.446 2.962.446 5.523 0 10-4.477 10-10S17.523 2 12 2z"/>
          </svg>
        </a>
      </div>
    </div>
  {% endif %}

  {% if section.settings.enable_comments and blog.comments_enabled? %}
    <div class="article-comments" data-fade-in>
      <h3>Comentarios ({{ article.comments_count }})</h3>
      
      {% paginate article.comments by 10 %}
        {% for comment in article.comments %}
          <div class="comment">
            <strong>{{ comment.author }}</strong>
            <time>{{ comment.created_at | date: '%d %b %Y' }}</time>
            <p>{{ comment.content }}</p>
          </div>
        {% endfor %}

        {% if paginate.pages > 1 %}
          {{ paginate | default_pagination }}
        {% endif %}
      {% endpaginate %}

      {% form 'new_comment', article %}
        <h4>Dejar un Comentario</h4>
        
        <input type="text" name="comment[author]" placeholder="Nombre" required>
        <input type="email" name="comment[email]" placeholder="Email" required>
        <textarea name="comment[body]" placeholder="Tu comentario" required></textarea>
        
        <button type="submit">Publicar Comentario</button>
      {% endform %}
    </div>
  {% endif %}
</article>

<script>
document.addEventListener('DOMContentLoaded', function() {
  if (typeof gsap === 'undefined') return;

  const elements = document.querySelectorAll('[data-fade-in]');

  elements.forEach((el, index) => {
    gsap.from(el, {
      opacity: 0,
      y: 40,
      duration: 0.8,
      delay: index * 0.15,
      ease: 'power3.out',
      clearProps: 'all'
    });
  });
});
</script>

{% schema %}
{
  "name": "Contenido del Artículo",
  "class": "article-content-section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_author",
      "label": "Mostrar Autor",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_date",
      "label": "Mostrar Fecha",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_share_buttons",
      "label": "Mostrar Botones de Compartir",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_comments",
      "label": "Habilitar Comentarios",
      "default": true
    }
  ]
}
{% endschema %}
